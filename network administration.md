### Администрирование сети.
- Вступление.
- Топология сети.
- Планирование СКС.
- Конфигурация nat-ов и vpn-ов.
- Маршрутизация.

### Вступление.

Есть две модели сети. Сеть OSI 7-уровней и сеть TCP/IP 4-уровня.

Сеть OSI или как её еще называют эталонной сетью - [ссылка](https://ru.wikipedia.org/wiki/Сетевая_модель_OSI) 7 уровней. Кстати почему назвали её эталонной (то есть какой бы она должна быть в идеале)?
Потому, что она не прижилась, так как во всём мире работают по модели TCP/IP и менять её не хотят. Да и не идеальная оказалась модель OSI. Но почему то на собеседовании про неё спрашивают )) Это, что то типа просить сейчас при поступлении на работу, как устроен коммунистический строй?

Уровни модели OSI:
- Прикладной уровень
- Уровень представления
- Сеансовый уровень
- Транспортный уровень
- Сетевой уровень
- Канальный уровень
- Физический уровень

![image](https://github.com/tvgVita69/sysadmin/assets/98489171/d19cc52d-21a6-4b87-8984-626c028f29e8)

так по понятнее

![image](https://github.com/tvgVita69/sysadmin/assets/98489171/69f990b5-466f-4f2c-b198-d794345d650b)

уровень TCP/IP

![tcp-ip](https://github.com/tvgVita69/sysadmin/assets/98489171/20fbc07f-aa25-455c-8f68-86a6b881cb8a)

А теперь разбираемся по уровням.
##### Например вопрос к какому уровню относится ARP?
![unnamed](https://github.com/tvgVita69/sysadmin/assets/98489171/7f748bf0-4786-46db-bd90-0a6a0310f43b)
 
по этому изображению можно отнести к 3 уровню, но так ли на самом деле?
 
![106](https://github.com/tvgVita69/sysadmin/assets/98489171/9f51b696-4635-4d22-89f0-48e4037b0612)


В модели TCP/IP он между 1 и 2, а в модели OSI он между 2 и 3.<br>
Что такое arp? <br>
Предназначенный для определения MAC-адреса другого компьютера по известному IP-адресу.<br>
То есть он на уровне MAC и IP. MAC адресс это канальный уровень 2, а IP сетевой уровень 3.<br>
Так что вопрос с подковыркой.

Что на каком уровне по модели TCP/IP

![tcp_ip](https://github.com/tvgVita69/sysadmin/assets/98489171/2ae1b0d6-9027-440c-b586-a07c7f2ca12e)

Что на каком уровне по модели OSI

![105](https://github.com/tvgVita69/sysadmin/assets/98489171/4c06f47c-949f-4b21-9c2c-7a725550d067)


### Топология сети - [ссылка](https://ru.wikipedia.org/wiki/Сетевая_топология)

Если брать по моему опыту, везде топология звезда, или смешанная топология, редко встречается кольцо или полносвязная топология.

Есть центральный узел системы от него пляшет всё остальное, или несколько узлов.

Рассмотрим что из себя представляют одноранговые сети и многоранговые сети(доменные, клиент серверные).

Одноранговые сети (в одноранговой сети все компьютеры равноправны, то есть для каждого компьютера все полномочия и доступы настраиваюся на каждом компьютере)

![107](https://github.com/tvgVita69/sysadmin/assets/98489171/2f499ee7-c978-4600-bdac-bef1afde817b)


Многоранговые сети (доменная сеть является управляющим звеном в котором есть один центральный компьютер и все полномочия, права и доступы в других компьютерах настраиваюся через один центральный компьютер, который называется сервером)

![108](https://github.com/tvgVita69/sysadmin/assets/98489171/59cdf628-88b9-41f2-9098-3c23db08a05b)

Что ещё может быть в качестве управляемого звена? Любой маршрутизатор. Где можно иметь одноранговую сеть или доменную и настраивать права и доступы на другие компьютера по сети. Также как домашний роутер.

### Планирование СКС.
Что значит планирование?

Ну примерно так, прораб, или офсный домовой, или АХО, должен принести вам типа такой схемы и согласовать с руководителем ИТ расположение розеток компьютерных и телефонных, количество и трассу.  

![3](https://github.com/tvgVita69/sysadmin/assets/98489171/efe3f58b-4b99-46e1-bc99-4881c5f1df52)

**Теперь важный момент.**
Если вам говорят в помещении сделать три розетки, а в помещении можно разместить 5 сотрудников, сделайте 5 розеток.

Все розетки и выходы в коммуникационный шкаф лучше подписывать, номер розетки и номер на кабеле.

### Вопросы по администрированию сети.

#### Что такое линк?
Линк это соединение между двумя сетевыми устройствами. По смыслу, термин включает в себя как тип соединительной линии (кабеля), так и протоколы, которые работают на этому линке.

#### Перечислите 7 уровней модели OSI.
Очень частый и важный вопрос. Уровни снизу вверх:

- Физический (Physical)
- Канальный (Data Link)
- Сетевой (Network)
- Транспортный (Transport)
- Сеансовый (Session)
- Представления (Presentation)
- Приложений (Application)

#### Что такое IP - адрес?
Уникальный внутри подсети идентификатор устройства третьего уровня модели OSI. 

Сейчас его больше всего четвертой версии, но мир идет в сторону IPv6 (шестая версия).

#### Что такое LAN?
LAN (Local Area Network) или локальная вычислительная сеть - локалка. 

Это сеть между компьютерами и другими сетевыми устройствами, которые расположены в одном и том же (небольшом) месте.

Для подробностей от том, что такое LAN и чем он отличается от WAN почитайте нашу статью.

#### Что такое DHCP?
DHCP (Dynamic Host Configuration Protocol). Протокол конфигурации для IP - адресов. Например, DHCP сервер раздает адреса в подсети, отвечая на запросы, а DHCP клиента запрашивает.<br>
Параметры DHCP — например, маска подсети, шлюз по умолчанию и адрес сервера. Опции представляют собой пронумерованные пункты, строки данных, которые содержат необходимые клиенту сервера параметры конфигурации.<br>
- Option 1 — маска подсети IP;
- Option 3 — основной шлюз;
- Option 6 — адрес сервера DNS (основной и резервный);
- Option 43 зарезервирована для обмена информацией производителей;
- Option 51 определяет, на какой срок IP-адрес предоставляется в аренду клиенту;
- Option 55 — список запрашиваемых опций. Клиент всегда запрашивает опции для правильной конфигурации. Отправляя сообщение с Option 55, клиент выставляет список запрашиваемых числовых кодов опций в порядке предпочтения. DHCP-сервер старается отправить ответ с опциями в том же порядке.
- Option 60 — классовый идентификатор; здесь указывается, например, PXE клиент;
- Option 66 и 67 необходимы для указания имени сервера PXE и имени файла загрузки соответственно.
- Option 82 — информация об агенте ретрансляции (relay agent information). Благодаря ретранслятору клиент и сервер могут общаться, находясь в разных подсетях. По умолчанию широковещательные сообщения не могут выходить за пределы текущего широковещательного домена (подсети). Внимательный читатель скажет, что выше мы писали, как клиент отправляет широковещательное сообщение DHCPDISCOVER всем доступным DHCP-серверам.
 Для работы DHCP нужны порты 67 и 68.
![109](https://github.com/tvgVita69/sysadmin/assets/98489171/9b1e3471-82eb-4331-96a4-9da4bc9475f0)


#### Что такое DNS?
DNS - Domain Name System.Это система доменных имен.<br>
- Option 6 — адрес сервера DNS (основной и резервный)<br>
Для работы DNS нужен порт 53.

#### Что такое WAN?
WAN (Wide Area Network) - это глобальная вычислительная сеть, которая не ограничена географической локацией - квартира, этаж или здание. Отличный пример WAN сети - интернет, через который вы сейчас читаете эту статью.

#### Что означает термин "нода"? Что такое "хост"?
Как правило, в сетях, нодой или хостом называют некий сетевой узел. Так, маршрутизатор, коммутатор и даже компьютер может быть назван "нодой" и "хостом".

#### Какая максимальная длина кабеля UTP?
Одно плечо кабеля работает на дистанции до 100 метров. Потом нужен репитер или коммутатор.

#### Что такое маршрутизатор?
Маршрутизатор (роутер, так как это одно и то же) это устройство третьего уровня модели OSI, которое маршрутизирует IP - пакеты между подсетями. Маршрутизатор запоминает таблицы маршрутизации, дистанцию до других подсетей, узкие места и прочие параметры.

#### Что такое коммутатор?
Коммутатор (или как его называют свич) - устройство, которое работает на втором уровне модели OSI. Свич оперирует с MAC - адресами и в корпоративных сетях именно в него подключаются оконечные устройства (компьютеры, МФУ и прочее).

#### В чем разница между роутером, свичем и хабом?
Роутер работает на третьем уровне модели OSI, свич на втором, хаб на первом. А еще хабы уже не используют, ибо они туповат.
- Концентратор – это небольшое, простое и недорогое устройство, которое соединяет несколько компьютеров вместе.
- Коммутатор – это небольшое аппаратное устройство, которое объединяет несколько компьютеров в одну локальную сеть (LAN) и работает на уровне 2 модели OSI.
- Маршрутизаторы – это физические устройства, которые объединяют несколько проводных или беспроводных сетей вместе и работают на третьем уровне модели OSI.

#### 3 уровня иерархии сетей от Cisco?
Изи. Уровень доступа (access layer), уровень распределения (distribution layer) и уровень ядра (core layer).

#### Что такое VLAN и зачем они нужны?
VLAN (Virtual Local Area Network), или так называемые виртуальные локальные сети, которые позволяют на на одном физическом порту роутера создать несколько виртуальных локальных сетей сразу. Это экономия портов и красивый дизайн сети.

#### Что такое PING?
Это самый базовый инструмент инженера, который позволяет понять ""А жив ли хост?". Работает по протоколу ICMP.

#### Какие режимы передачи данных бывают?
- симплексный
- полудуплексный
- полнодуплексный

#### Что такое Ethernet?
Ethernet - стандарт, описывающий подключение к локальным сетям через кабель (различные кабели). Существуют различные стандарты Ethernet, отличающиеся по скорости работы.

#### Что такое VPN?
VPN позволяет установить виртуальное защищенное соединение, которое называют туннелем, между вашим устройством, или даже целой сетью и другим удаленным устройством, или же - другой удаленной сетью

#### Что такое MAC - адрес?
Уникальный идентификатор устройства на втором уровне модели OSI. С MAC - адресами работают коммутаторы

#### Что такое TCP и UDP? В чем разница между ними?
Оба термина относятся к транспортному уровню модели OSI и является транспортными протоколами. TCP - надежный и проверяет доставку - подходит для чувствительного к потерям трафика, а UDP допускает потерю данных.

#### Что такое NIC?
NIC это Network Interface Card. Это ни что иное как сетевая карта устройства.

#### Зачем нужен прокси сервер?
Прокси (proxy) сервер - это элемент сетевой инфраструктуры, который выполняет роль посредника между клиентским компьютером (терминал, браузер, приложение), находящимся во внутренней сети и другим сервером, который живёт во внешней сети или наоборот.

#### Какие типы сетевых атак вы знаете?
DoS, DDoS, фишинг или Bruteforce. Есть еще "злое" ПО, такое как: бэкдоры (Backdoor), майнеры (Miner), банкеры (Bank, шпионские программы (Spyware), рекламное ПО (Adware), руткиты (Rootkit).

#### Что такое NAT?
NAT технология позволяет множеству внутренних устройств с внутренним IP - адресом выходить в интернет под внешними IP - адресами и получать пакеты обратно на внутренний IP - адрес.

#### А знаете ли вы про MST (Multiple Spanning Tree)?
Это третья вариация алгоритмов связующего дерева и он обеспечивает отсутствие петель и широковещательного шторма. Основная идея MST в так называемых множественных связующих деревьях.

#### А про RSTP (Rapid Spanning Tree) что скажете?
С развитием протоколов маршрутизации, классический STP перестал "вывозить". Он просто не такой быстрый. Поэтому, на его смены пришел быстрый RSTP.

#### А про протокол RIP что скажете?
Рест ин пис RIPv1 и да здравствует RIPv2. Это протокол маршрутизации, который хранит информацию о маршрутизации и сетевых путях. Сетевой путь - это простой фрагмент информации, который говорит, какая сеть подключена к какому интерфейсу маршрутизатора.

Ах да. Про разницу RIPv1 и RIPv2 можно почитать тут. А про детали работы протокола RIP информации много здесь.

#### Расскажите нам про EIGRP?
Устраивайтесь поудобнее. EIGRP это проприетарный протокол компании Cisco Systems. Если быть точным, то Enhanced Interior Gateway Routing Protocol это протокол "внутреннего шлюза". У EIGRP высокий показатель масштабируемости и высокая скорость сходимости сети.

Вот такой ответ. Но, мы рекомендуем вам погрузиться в EIGRP. У нас на этот счет есть целый цикл статей из 7 частей про EIGRP. Информации там очень много, но после прочтения статьи вероятность того, что вам зададут вопрос про EIGRP, на который вы не будете знать ответа - минимальна.

#### А что скажете про BGP?
На BGP возложена великая задача - соединение автономных систем во всем Интернете. А, я не сказал про то, что такое автономная системы - это совокупность точек маршрутизации и связей между ними, объединенная общей политикой взаимодействия, которая позволяет этой системе обмениваться данными с узлами, находящимися за ее пределами.

#### Так, продолжайте про OSPF?
OSPF (Open Shortest Path First) - протокол внутренней маршрутизации с учетом состояния каналов (Interior gateway protocol, IGP). Как правило, данный протокол маршрутизации начинает использоваться тогда, когда протокола RIP уже не хватает по причине усложнения сети и необходимости в её легком масштабировании.

Протокол маршрутизации OSPF: LSA, области и виртуальные ссылки
Расширенные возможности OSPF: Области
OSPF: создание конкретных типов областей
Ручная фильтрация маршрутов OSPF

#### Что такое VTP?
Думаю вы имеет ввиду VLAN Trunking Protocol, который создан для того, чтобы передавать информацию о VLAN между коммутаторами.

#### Что думаете про модный SD WAN?
Software Defined Wide Area Network определенно интересны, так как помогают серьезно сэкономить на каналах передачи данных, не теряя качества, а также ускорить включение в общую сеть организации новых территориально удаленных филиалов.

#### Пару слов про MPLS?
MPLS (Multiprotocol label switching) является протоколом для ускорения и формирования потоков сетевого трафика, что, по сути, означает сортировку MPLS и расстановку приоритетов в пакетах данных на основе их класс обслуживания (например, IP-телефон, видео или транзакции, например).

#### Какие алгоритмы вам знакомы?
Существуют алгоритмы 3DES, Triple DES, AES. А, кстати, в России популярны "Магма" и "Кузнечик".

#### Какие кодеки вам знакомы?
Кодеков не мало. Но на моем опыте, наибольшей популярностью пользуются G.711 и G.729. Причем 711 используется внутри сетей и его полоса 64 кбит/с, а 729 снаружи для экономии полосы пропускания - он занимает только 8 кбит/с.

#### А разницу между FXS и FXO портом знаете?
Конечно. FXS - для подключения аналоговой телефонного аппарата. FXO - для подключения аналоговой телефонной линии.

#### А что по вашему лучше - SIP или PRI?
Протокол SIP - это современный и очень гибкий стандарт, обладающий большим количеством функций, в то время как ISDN PRI доказал свою надежность на протяжении 20 лет использования. PRI дороже в обслуживании но безопаснее, а SIP дешевле и быстрее с точки зрения запуска.

#### Зачем нужен протокол RTP?
Для передачи голоса в VoIP сетях. SIP делает сигнализацию, а RTP отправляет голос. Кстати, RTP ходит напрямую между телефонами.

#### А термин SBC вам знаком?
Знаком. Session Border Controller (контроллер граничных сессий) - сетевое устройство, которое может обеспечить безопасность VoIP, а также соединять несовместимые (разнородные) сигнальные протоколы и медиа потоки, поступающие от различных устройств. SBC - устройства используются в корпоративных сетях и сетях провайдеров услуг и, как правило, развертываются на границе сети (точка входа провайдера в корпоративный контур).

#### Про SDP вы знаете?
Протокол SDP используется для установления соединения и согласования параметров передачи и приема аудио или видео потоков между оконечными устройствами. Наиболее важными параметрами обмена являются IP - адреса, номера портов и кодеки.

